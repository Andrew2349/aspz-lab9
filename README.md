# Практична 9
ТВ-31 Троцюк Андрій

17 Варіант

Завдання 9.1

 Напишіть програму, яка читає файл /etc/passwd за допомогою команди getent passwd, щоб дізнатись, які облікові записи визначені на вашому комп’ютері.
 Програма повинна визначити, чи є серед них звичайні користувачі (ідентифікатори UID повинні бути більші за 500 або 1000, залежно від вашого дистрибутива), окрім вас.

Результат

![image](https://github.com/user-attachments/assets/a099d86d-ac37-47e2-adab-7865441dc100)
![image](https://github.com/user-attachments/assets/50a02968-acb4-4940-9268-27e129a5f0ef)
![image](https://github.com/user-attachments/assets/3c161c8a-3889-489f-9a77-bf769aa92d1f)


Я написав програму, яка використовує команду getent passwd для отримання списку користувачів системи. Програма зчитує UID кожного користувача, і якщо UID більший за 1000, а це не я, то виводить ім’я користувача та його UID. Для тестування я створив нового користувача testuser з UID 1001, і програма успішно вивела цього користувача. Таким чином, завдання показує, що програма правильно ідентифікує звичайних користувачів, окрім поточного користувача.

Завдання 9.2

 Напишіть програму, яка виконує команду cat /etc/shadow від імені адміністратора, хоча запускається від звичайного користувача.
 (Ваша програма повинна робити необхідне, виходячи з того, що конфігурація системи дозволяє отримувати адміністративний доступ за допомогою відповідної команди.)

Результат

![image](https://github.com/user-attachments/assets/50650c92-0a13-41ab-b872-1b8107fc883e)
![image](https://github.com/user-attachments/assets/9b909a1d-3064-44b9-90e8-d81e702110b1)


Я написав програму, яка використовує sudo для виконання команди cat /etc/shadow. Програма успішно вивела вміст файлу, оскільки для доступу до нього потрібні права адміністратора. Без sudo команда б не спрацювала.

Завдання 9.3

 Напишіть програму, яка від імені root копіює файл, який вона перед цим створила від імені звичайного користувача. Потім вона повинна помістити копію у домашній каталог звичайного користувача.
 Далі, використовуючи звичайний обліковий запис, програма намагається змінити файл і зберегти зміни. Що відбудеться?
 Після цього програма намагається видалити цей файл за допомогою команди rm. Що відбудеться?

Результат

![image](https://github.com/user-attachments/assets/c1e840b6-b8ba-48e4-ac34-282d44eb15df)
![image](https://github.com/user-attachments/assets/ee5089e9-d722-49ca-8987-357321c3f258)
![image](https://github.com/user-attachments/assets/1fc2945c-099e-4648-98ef-ed0f1db47eb6)

Я написав програму, яка створює файл від імені звичайного користувача, потім копіює його в домашній каталог іншого користувача з правами sudo. Після цього програма намагається змінити та видалити цей файл, але ці операції не виконуються, оскільки звичайний користувач не має прав на зміну або видалення файлів іншого користувача. Помилки "Permission denied" підтверджують відсутність необхідних прав.

Завдання 9.4

 Напишіть програму, яка по черзі виконує команди whoami та id, щоб перевірити стан облікового запису користувача, від імені якого вона запущена.
 Є ймовірність, що команда id виведе список різних груп, до яких ви належите. Програма повинна це продемонструвати.

Результат

![image](https://github.com/user-attachments/assets/388b6939-e662-440c-bd86-262ec6504e75)
![image](https://github.com/user-attachments/assets/8d32d231-4466-4e73-bee7-8d6216843ae6)


Я написав програму, яка спочатку виконує команду whoami для виведення імені користувача, а потім команду id, щоб показати групи, до яких належить цей користувач. Це дозволяє перевірити ідентифікацію користувача та його групи в системі.

Завдання 9.5

 Напишіть програму, яка створює тимчасовий файл від імені звичайного користувача. Потім від імені суперкористувача використовує команди chown і chmod, щоб змінити тип володіння та права доступу.
 Програма повинна визначити, в яких випадках вона може виконувати читання та запис файлу, використовуючи свій обліковий запис.

Результат

![image](https://github.com/user-attachments/assets/6e66d80f-5dda-47a5-b4dd-547d9b108985)
![image](https://github.com/user-attachments/assets/7b46e1c8-8167-4150-bb65-4cf241f5b6bb)


Я створив тимчасовий файл і змінив його права доступу так, щоб тільки root міг змінювати і видаляти цей файл. Після цього звичайний користувач не зміг змінити файл (отримавши "Permission denied"), але при спробі видалити файл система запитала підтвердження, оскільки файл був захищений від запису.

Завдання 9.6

 Напишіть програму, яка виконує команду ls -l, щоб переглянути власника і права доступу до файлів у своєму домашньому каталозі, в /usr/bin та в /etc.
 Продемонструйте, як ваша програма намагається обійти різні власники та права доступу користувачів, а також здійснює спроби читання, запису та виконання цих файлів.

Результат

![image](https://github.com/user-attachments/assets/c84ecbd4-eb47-488c-b936-cc60c45f3815)
![image](https://github.com/user-attachments/assets/5946add3-e3b0-4f5a-9534-54048986e828)


Я написав програму, яка перевіряє права доступу до файлів у моєму домашньому каталозі, в каталогах /usr/bin та /etc, виводячи перші 10 файлів з кожного з цих каталогів, щоб не перевантажувати інформацією. Програма також перевіряє доступність важливих системних файлів, таких як /etc/passwd, /usr/bin/ls та /etc/shadow, і здійснює спроби виконати операції читання, запису та виконання, використовуючи функцію access(). Це дозволяє мені отримати корисну інформацію про можливі дії з цими файлами в різних умовах доступу.

Індивідуальне завдання(17 варіант)

Які загрози можуть виникнути, якщо у користувача є доступ до sudo, але без пароля?

Якщо у користувача є доступ до sudo без пароля, це створює серйозні загрози безпеці. Зловмисник може отримати повний контроль над системою без додаткової перевірки. Наприклад, він може змінювати конфігурації, інсталювати шкідливе ПЗ або створювати нових користувачів з підвищеними правами. Також, автоматизація атак стає набагато простішою. Тому важливо завжди вимагати пароль для використання sudo, щоб знизити ризики.

